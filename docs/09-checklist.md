# 项目检查清单

> 创建新项目或审查现有项目时使用的完整检查清单。

---

## 一、项目初始化检查

### 1.1 基础文件

- [ ] README.md - 项目说明文档
- [ ] .gitignore - Git 忽略规则
- [ ] .gitattributes - Git 属性配置
- [ ] .editorconfig - 编辑器配置
- [ ] .env.example - 环境变量示例
- [ ] AGENTS.md - AI 协作规范

### 1.2 配置文件

- [ ] package.json - 项目配置完整
- [ ] tsconfig.json - TypeScript 配置（如适用）
- [ ] eslint.config.js - ESLint 配置
- [ ] .prettierrc - Prettier 配置
- [ ] vite.config.ts - Vite 配置（前端项目）

### 1.3 目录结构

- [ ] 遵循标准目录结构规范
- [ ] 目录层级清晰合理
- [ ] 文件命名符合规范

---

## 二、后端服务检查

### 2.1 入口与配置

- [ ] 服务入口文件 (server.js / app.js)
- [ ] 数据库连接配置
- [ ] Redis 连接配置
- [ ] 环境变量加载

### 2.2 数据层

- [ ] 数据模型定义完整
- [ ] 模型关联关系正确
- [ ] 索引定义合理
- [ ] 软删除机制（如需要）

### 2.3 数据库迁移

- [ ] 迁移脚本存在
- [ ] 迁移记录表
- [ ] 自动迁移机制
- [ ] 幂等执行保证

### 2.4 认证鉴权

- [ ] 认证中间件/插件
- [ ] Token 验证逻辑
- [ ] 会话管理
- [ ] 权限检查机制
- [ ] 超级管理员处理

### 2.5 路由层

- [ ] 路由注册入口
- [ ] 请求参数验证 (Joi/Zod)
- [ ] 权限标记
- [ ] 路由分组/前缀

### 2.6 服务层

- [ ] 业务逻辑封装
- [ ] 依赖注入模式
- [ ] 事务处理
- [ ] 错误处理

### 2.7 响应处理

- [ ] 统一响应格式 `{ code, message, data }`
- [ ] 错误码定义
- [ ] 错误响应转换
- [ ] HTTP 状态码正确

### 2.8 日志与追踪

- [ ] 请求日志记录
- [ ] 链路追踪 (trace_id, req_id)
- [ ] 错误日志
- [ ] 结构化日志输出

### 2.9 后台任务

- [ ] Worker 机制（如需要）
- [ ] 重试策略
- [ ] 任务状态管理
- [ ] 超时处理

---

## 三、前端应用检查

### 3.1 基础结构

- [ ] 入口文件 (main.tsx)
- [ ] 根组件 (App.tsx)
- [ ] 路由配置
- [ ] 全局样式

### 3.2 HTTP 服务

- [ ] HTTP 请求封装
- [ ] Token 管理
- [ ] 请求拦截
- [ ] 响应处理
- [ ] 401/403 处理

### 3.3 认证

- [ ] 登录页面
- [ ] 登录状态管理
- [ ] 路由守卫
- [ ] 登出功能

### 3.4 权限控制

- [ ] 菜单权限
- [ ] 页面权限
- [ ] 按钮权限
- [ ] 403 页面

### 3.5 UI 组件

- [ ] 布局组件
- [ ] 通用组件
- [ ] 表单组件
- [ ] 表格组件

### 3.6 状态管理

- [ ] 全局状态方案
- [ ] 用户状态
- [ ] 应用配置状态

### 3.7 开发体验

- [ ] 路径别名 (@/)
- [ ] API 代理
- [ ] 热更新正常
- [ ] TypeScript 类型完整

---

## 四、代码质量检查

### 4.1 代码规范

- [ ] ESLint 无错误
- [ ] Prettier 格式化
- [ ] 命名规范一致
- [ ] 注释充分

### 4.2 类型安全

- [ ] TypeScript 无错误
- [ ] 类型定义完整
- [ ] 避免 any 滥用

### 4.3 错误处理

- [ ] 异常捕获完整
- [ ] 错误信息友好
- [ ] 不静默吞掉错误

### 4.4 安全检查

- [ ] 输入验证
- [ ] SQL 注入防护
- [ ] XSS 防护
- [ ] 敏感信息不硬编码
- [ ] CORS 配置正确

---

## 五、测试检查

### 5.1 测试覆盖

- [ ] 单元测试存在
- [ ] 核心逻辑有测试
- [ ] 边界条件覆盖

### 5.2 测试配置

- [ ] 测试脚本配置
- [ ] 测试环境隔离
- [ ] Mock 机制

### 5.3 E2E 测试

- [ ] E2E 测试框架（如需要）
- [ ] 关键流程覆盖

---

## 六、文档检查

### 6.1 项目文档

- [ ] README.md 完整
- [ ] 快速开始指南
- [ ] 开发环境说明

### 6.2 API 文档

- [ ] 接口列表
- [ ] 请求/响应格式
- [ ] 错误码说明

### 6.3 架构文档

- [ ] 技术选型说明
- [ ] 目录结构说明
- [ ] 数据模型说明

---

## 七、部署检查

### 7.1 Docker

- [ ] Dockerfile（如需要）
- [ ] docker-compose.yml
- [ ] .dockerignore

### 7.2 环境配置

- [ ] 生产环境变量
- [ ] 数据库连接
- [ ] Redis 连接

### 7.3 构建

- [ ] 构建脚本正常
- [ ] 构建产物正确
- [ ] 静态资源处理

---

## 八、性能检查

### 8.1 后端

- [ ] 数据库索引
- [ ] N+1 查询避免
- [ ] 连接池配置
- [ ] 缓存策略

### 8.2 前端

- [ ] 代码分割
- [ ] 懒加载
- [ ] 图片优化
- [ ] 打包体积合理

---

## 九、快速检查命令

```bash
# 依赖安装
npm install

# 代码检查
npm run lint

# 类型检查
npm run typecheck  # 或 tsc --noEmit

# 运行测试
npm test

# 构建
npm run build

# 启动开发服务
npm run dev
```

---

## 十、常见问题排查

### 10.1 启动失败
- 检查 Node.js 版本
- 检查依赖是否安装
- 检查环境变量配置
- 检查端口占用

### 10.2 数据库连接失败
- 检查数据库服务是否启动
- 检查连接配置
- 检查网络/防火墙

### 10.3 认证失败
- 检查 Token 格式
- 检查会话是否过期
- 检查 Redis 连接

### 10.4 前端代理失败
- 检查后端服务是否启动
- 检查代理配置
- 检查 CORS 设置
